<!DOCTYPE html>
<html>
<head>
  <title>Image uploader</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/510/fabric.min.js">
   </script>
</head>
<body>
	<center><br><br><br><br>
		<h2>Image uploading in Fabric Canvas</h2>
  <canvas id="canvas" style="border-style: solid; border-color: red"></canvas><br><br>
  <input type="file" id="uploader">
  <div class="output"></div><br><br>
</center>
  <script>
      // Initiate a Canvas instance
      var element = document.getElementById('canvas');
      var canvas = new fabric.Canvas(element);
      canvas.setWidth(500);
      canvas.setHeight(500);
   </script>
  <script>
    const canv = document.querySelector('#canvas');
    const ctx = canv.getContext('2d');
    const uploader = document.querySelector('#uploader');
    uploader.addEventListener('change',(e)=>{
      //console.log(canv.height,canv.width);
      const myFile = uploader.files[0];
      console.log(myFile.name);
      const img = new Image();
      img.src = URL.createObjectURL(myFile);
      img.onload = function(){
        console.log(img.height,img.width);
        //canvas.height = img.height;
        //canvas.width = img.width;
        ctx.drawImage(img, 0, 0, 500,500);
      }
    })

    </script>
</body>
</html>
